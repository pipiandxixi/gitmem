---
created_at: '2026-01-07T20:54:17.688513'
date: '2026-01-07'
---

## mcp_hybrid_architecture (20:54:17)
<!-- tags: ['architecture', 'hybrid-mcp', 'gitops'] -->
Hybrid MCP Architecture Design for GitMem:
- Local Component (Stdio): Provides low-latency writes to local daily logs and fast reads from a cached repository.
- Remote Component (SSE): Acts as a centralized 'Brain' for heavy-duty, asynchronous LLM digestion.
- Trigger Mechanism: After a local write, the Local MCP Server sends a POST request to the remote '/trigger-digest' webhook.
- Data Flow: Raw memories are appended to 'logs/YYYY-MM-DD.md'. The remote worker then performs a full-rewrite merge of new facts into structured 'knowledge/{topic}.md' files.
- State Tracking: Uses 'Ref-Commit' markers in Git logs to manage the processing pipeline statelessly.