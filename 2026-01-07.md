---
created_at: '2026-01-07T20:54:17.688513'
date: '2026-01-07'
---

## mcp_hybrid_architecture (20:54:17)
<!-- tags: ['architecture', 'hybrid-mcp', 'gitops'] -->
Hybrid MCP Architecture Design for GitMem:
- Local Component (Stdio): Provides low-latency writes to local daily logs and fast reads from a cached repository.
- Remote Component (SSE): Acts as a centralized 'Brain' for heavy-duty, asynchronous LLM digestion.
- Trigger Mechanism: After a local write, the Local MCP Server sends a POST request to the remote '/trigger-digest' webhook.
- Data Flow: Raw memories are appended to 'logs/YYYY-MM-DD.md'. The remote worker then performs a full-rewrite merge of new facts into structured 'knowledge/{topic}.md' files.
- State Tracking: Uses 'Ref-Commit' markers in Git logs to manage the processing pipeline statelessly.

## mcp_hybrid_architecture (21:09:53)
<!-- tags: ['architecture', 'hybrid-model', 'refactoring'] -->
Hybrid MCP Architecture Design for GitMem:
- **Local Component**: 'src/server.py' running in Stdio mode. Handles fast, synchronous writes to local 'logs/YYYY-MM-DD.md'.
- **Remote Component**: 'src/backend.py' running as a persistent service. Exposes '/trigger-digest' and runs async digestion workers.
- **Workflow**: Local write -> HTTP Trigger -> Remote Worker pulls repo -> LLM Digests content -> Push back to 'knowledge/'.
- **Storage Layout**: Raw logs in 'logs/', processed knowledge in 'knowledge/'.

## mcp_verify (21:14:32)
<!-- tags: ['verification', 'test'] -->
Verifying GitMem Hybrid Architecture:
1. Local Write: This content goes to 'logs/'.
2. Async Trigger: The backend receives a signal.
3. Digestion: The worker processes this entry and creates 'knowledge/mcp_verify.md'.
4. Result: We should see structured knowledge generated automatically.